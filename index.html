<!DOCTYPE html>
<!-- Version: 4 -->
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Image Map with Descriptions</title>
<style>
  #description {
    margin-top: 20px;
    font-size: 1.2em;
    border: 1px solid #ddd;
    padding: 20px;
    max-width: 100%;
    box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    background-color: #f9f9f9;
  }

  .highlight {
    border: 2px dashed red;
    position: absolute;
    pointer-events: none;
    z-index: 1000;
  }

  img {
    position: relative;
    max-width: 100%;
    height: auto;
  }

  .heading {
    font-size: 1.5em;
    font-weight: bold;
    display: block;
    margin-bottom: 10px;
  }

  .column {
    font-style: italic;
    display: inline;
  }

  .expected-format {
    border: 1px solid #ddd;
    padding: 10px;
    margin: 10px 0;
    display: inline-block;
    background-color: #eaeaea;
  }
</style>
</head>
<body>

<!-- Class Hierarchy:
    TableStructure
    ├─ Column
    │  ├─ COL_1 (CHECKBOX)
    │  ├─ COL_2 (IDPASS)
    │  ├─ COL_3 (NAME)
    │  ├─ COL_4 (STATUS)
    │  ├─ COL_5 (DOWNDEL)
    │  ├─ COL_6 (QUESTIONS)
    │  ├─ COL_7 (RESPONSES)
    │  ├─ COL_8 (DEVICES)
    │  ├─ COL_9 (STARTIDLEFOR)
    │  ├─ COL_10 (LOGGEDOUT)
    │  ├─ COL_11 (DIDNOTATTEND)
    └─ Row
       ├─ HeaderRow
       ├─ StudentRow
       └─ ... (other rows)
    ├─ Cell
    │  ├─ SubCell
    └─ CellFactory
-->

<!-- Image Map -->
<div style="position: relative; display: inline-block;">
  <img src="HTML/ViewLogins.png" usemap="#image-map" alt="Map Image" id="mapImage">
  <div class="highlight" id="highlightBox" style="display: none;"></div>
</div>

<map name="image-map">
  <area coords="15,11,35,294" shape="rect" onmouseover="showDescription('viewlogins', 'CHECKBOX', 'Checkbox', 'You can select one, multiple or all students - so that you can perform one of the six action buttons not shown here - Reset,Start,Pause,Stop,Change time,Set downloads', this)" onmouseout="hideHighlight()">
  <area coords="632,1,857,324" shape="rect" onmouseover="showDescription('viewlogins', 'IDPASS', 'ID/Pass', 'Blah blah.', this)" onmouseout="hideHighlight()">
  <area coords="42,0,108,341" shape="rect" onmouseover="showDescription('viewlogins', 'NAME', 'Name', 'Student ID at top in bold, underneath is their password - set at time of candidate upload or in settings->Manage Candidates - you cannot update the password whilst exam is published.', this)" onmouseout="hideHighlight()">
  <area coords="948,14,1027,327" shape="rect" onmouseover="showDescription('viewlogins', 'STATUS', 'Status', 'Time of day in 24 hour format that the exam finished for this student. Additionally, this will update again when the student clicks submit.', this)" onmouseout="hideHighlight()">
  <!-- Additional areas would follow similar structure -->
</map>

<!-- Description Area -->
<div id="description">Hover over an area to see the description here.</div>

<script>
// Generic column class names with expected format examples
class COL_1 {
    renderContent() {
        return "<div class='expected-format'>Expected format: Checkbox selection</div>Content for COL_1 (CHECKBOX)";
    }
}
class COL_2 {
    renderContent() {
        return "<div class='expected-format'>Expected format: ID/Pass format</div>Content for COL_2 (IDPASS)";
    }
}
class COL_3 {
    renderContent() {
        return "<div class='expected-format'>Expected format: Name format</div>Content for COL_3 (NAME)";
    }
}
class COL_4 {
    renderContent() {
        return "<div class='expected-format'>Expected format: Status format</div>Content for COL_4 (STATUS)";
    }
}
class COL_5 {
    renderContent() {
        return "<div class='expected-format'>Expected format: Download/Deletion format</div>Content for COL_5 (DOWNDEL)";
    }
}
class COL_6 {
    renderContent() {
        return "<div class='expected-format'>Expected format: Questions format</div>Content for COL_6 (QUESTIONS)";
    }
}
class COL_7 {
    renderContent() {
        return "<div class='expected-format'>Expected format: Responses format</div>Content for COL_7 (RESPONSES)";
    }
}
class COL_8 {
    renderContent() {
        return "<div class='expected-format'>Expected format: Devices format</div>Content for COL_8 (DEVICES)";
    }
}
class COL_9 {
    renderContent() {
        return "<div class='expected-format'>Expected format: Start/Idle format</div>Content for COL_9 (STARTIDLEFOR)";
    }
}
class COL_10 {
    renderContent() {
        return "<div class='expected-format'>Expected format: Logged Out format</div>Content for COL_10 (LOGGEDOUT)";
    }
}
class COL_11 {
    renderContent() {
        return "<div class='expected-format'>Expected format: Did Not Attend format</div>Content for COL_11 (DIDNOTATTEND)";
    }
}

// Mapping of human-readable names to generic class constructors
const columnClasses = {
    'checkbox': COL_1,
    'idpass': COL_2,
    'name': COL_3,
    'status': COL_4,
    'downdel': COL_5,
    'questions': COL_6,
    'responses': COL_7,
    'devices': COL_8,
    'startidlefor': COL_9,
    'loggedout': COL_10,
    'didnotattend': COL_11
};

// Function to display description
function showDescription(pTable, pRow, pColumn, pText, areaElement) {
    let descriptionContent = `<span class="heading">${pTable} - ${pColumn}</span>`;
    let columnInstance;

    // Use the columnClasses mapping to create the appropriate column class instance
    const columnClass = columnClasses[pRow && pRow.toLowerCase()];
    if (columnClass) {
        columnInstance = new columnClass();
        descriptionContent += `<p>${columnInstance.renderContent()}</p>`;
    }

    // Add the provided text
    if (pText) {
        descriptionContent += `<p>${pText}</p>`;
    }

    document.getElementById('description').innerHTML = descriptionContent;

    // Highlight the area
    highlightArea(areaElement);
}

function highlightArea(areaElement) {
    const coords = areaElement.coords.split(',');
    const x1 = parseInt(coords[0]);
    const y1 = parseInt(coords[1]);
    const x2 = parseInt(coords[2]);
    const y2 = parseInt(coords[3]);

    const highlight = document.getElementById('highlightBox');
    highlight.style.left = x1 + 'px';
    highlight.style.top = y1 + 'px';
    highlight.style.width = (x2 - x1) + 'px';
    highlight.style.height = (y2 - y1) + 'px';
    highlight.style.display = 'block';
}

function hideHighlight() {
    document.getElementById('highlightBox').style.display = 'none';
}
</script>

</body>
</html>
